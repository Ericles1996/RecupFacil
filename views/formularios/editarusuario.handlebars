<div class="login-container">
    <form action="/editarusuario/{{usuario.id}}" method="POST">
        <h1>Meus Dados</h1>

        <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" value="{{usuario.nome}}" required>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{usuario.email}}" required>
        </div>

        <div class="form-group">
            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" value="{{usuario.cpf}}" inputmode="numeric" pattern="[0-9]{11}" maxlength="11" oninput="onlyDigits(this)">
        </div>

        <div class="form-group">
            <label for="sexo">Sexo:</label>
            <select id="sexo" name="sexo" required>
                <option value="masculino" {{#ifEquals usuario.sexo "masculino"}}selected{{/ifEquals}}>Masculino</option>
                <option value="feminino" {{#ifEquals usuario.sexo "feminino"}}selected{{/ifEquals}}>Feminino</option>
                <option value="outro" {{#ifEquals usuario.sexo "outro"}}selected{{/ifEquals}}>Outro</option>
            </select>
        </div>

        <div class="form-group">
            <label for="data_nascimento_display">Data de Nascimento:</label>
            <input
              type="text"
              id="data_nascimento_display"
              name="data_nascimento_display"
              inputmode="numeric"
              pattern="\d{2}/\d{2}/\d{4}"
              maxlength="10"
              placeholder="DD/MM/AAAA"
              value="{{usuario.data_nascimento}}"
              required
            >
            <input type="hidden" id="data_nascimento" name="data_nascimento" value="{{usuario.data_nascimento}}">
        </div>

   <h2>Dados do Telefone</h2>
        {{#if usuario.Telefones.length}}
            {{#each usuario.Telefones}}
                <div class="form-group">
                    <label for="telefone_numero_{{this.id}}">Telefone ({{this.tipo}}):</label>
                    <input type="text" id="telefone_numero_{{this.id}}" name="telefone_numero_{{this.id}}" value="{{this.numero}}" required inputmode="tel" pattern="[0-9]{10,11}" maxlength="11" oninput="onlyDigits(this)">
                    <input type="hidden" name="telefone_id_{{this.id}}" value="{{this.id}}"> <!-- Para capturar o ID do telefone -->

                    <!-- Campo para selecionar o tipo do telefone -->
                    <label for="tipo_telefone_{{this.id}}">Tipo:</label>
                    <select id="tipo_telefone_{{this.id}}" name="tipo_telefone_{{this.id}}" required>
                        <option value="telefone" {{#if (eq this.tipo "telefone")}}selected{{/if}}>Telefone</option>
                        <option value="celular" {{#if (eq this.tipo "celular")}}selected{{/if}}>Celular</option>
                    </select>
                </div>
            {{/each}}
        {{else}}
            <p>Nenhum telefone cadastrado.</p>
        {{/if}}


       
   <h2>Dados do Endere��o</h2>
{{#if usuario.Enderecos.length}}
    {{#each usuario.Enderecos}}
        <div class="address-grid">
            <div class="form-group address-col address-span-2">
                <label for="rua_{{this.id}}">Rua:</label>
                <input type="text" id="rua_{{this.id}}" name="rua_{{this.id}}" value="{{this.rua}}" required>
            </div>
            <div class="form-group address-col address-compact">
                <label for="numero_{{this.id}}">Nǧmero:</label>
                <input type="text" id="numero_{{this.id}}" name="numero_{{this.id}}" value="{{this.numero}}" required inputmode="numeric" pattern="[0-9]+" oninput="onlyDigits(this)">
            </div>
            <div class="form-group address-col">
                <label for="bairro_{{this.id}}">Bairro:</label>
                <input type="text" id="bairro_{{this.id}}" name="bairro_{{this.id}}" value="{{this.bairro}}" required>
            </div>
            <div class="form-group address-col">
                <label for="cidade_{{this.id}}">Cidade:</label>
                <input type="text" id="cidade_{{this.id}}" name="cidade_{{this.id}}" value="{{this.cidade}}" required>
            </div>
            <div class="form-group address-col address-uf">
                <label for="estado_{{this.id}}">Estado:</label>
                <input type="text" id="estado_{{this.id}}" name="estado_{{this.id}}" value="{{this.estado}}" required maxlength="2">
            </div>
        </div>
        <input type="hidden" name="endereco_id_{{this.id}}" value="{{this.id}}"> <!-- Para capturar o ID do endere��o -->
    {{/each}}
{{else}}
    <p>Nenhum endere��o cadastrado.</p>
{{/if}}


        <br>
        <div class="form-actions">
            <button type="submit">Salvar</button>
            <button type="button" class="cancel-button" onclick="history.back()">Cancelar</button>
        </div>
    </form>
</div>

